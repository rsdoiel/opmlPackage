<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v10.1b19 on Sun, 20 Aug 2023 14:57:24 GMT -->

<!-- 
   Hi this is Dave Winer. I write all my project code in an outliner, which 
   generates all the files that make up this GitHub project. You'll see a 
   source.opml file like this in each of my projects. It contains the outline 
   source that the repo files were generated from. This is the most logical place 
   to store them. You can read the code in any outliner that supports OPML, which 
   includes https://drummer.land. You can use the Open URL command in 
   Drummer's File menu to open the "raw" version of this file straight from the 
   GitHub repo.
 -->

<opml version="2.0">
	<head>
		<title>nodeEditor: addCategoryToOpml</title>
		<dateCreated>Sun, 20 Aug 2023 14:39:07 GMT</dateCreated>
		<dateModified>Sun, 20 Aug 2023 14:57:24 GMT</dateModified>
		<ownerName>Dave Winer</ownerName>
		<ownerId>http://davewiner.com/</ownerId>
		<expansionState>1, 2, 5, 24, 26, 28, 30, 40</expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>175</windowTop>
		<windowLeft>744</windowLeft>
		<windowBottom>1125</windowBottom>
		<windowRight>2047</windowRight>
		</head>
	<body>
		<outline text="/scripting.com/code/addcategorytoopml/" created="Thu, 13 Jul 2023 14:21:20 GMT">
			<outline text="worknotes.md" created="Sun, 18 Jun 2023 16:13:00 GMT">
				<outline text="#### 8/20/23; 10:39:33 AM by DW" created="Sat, 12 Aug 2023 22:34:42 GMT">
					<outline text="Started. Configure it with constants in the source code. It takes an OPML subscription list and adds a category att to each node of type rss, with the specified value. " created="Sat, 12 Aug 2023 22:34:44 GMT"/>
					</outline>
				</outline>
			<outline text="package.json">
				<outline text="{">
					<outline text="&quot;name&quot;: &quot;addcategorytoopml&quot;,"/>
					<outline text="&quot;description&quot;: &quot;Add a category att to every element in an outline.&quot;,"/>
					<outline text="&quot;version&quot;: &quot;0.4.0&quot;,"/>
					<outline text="&quot;main&quot;: &quot;addcategorytoopml.js&quot;,"/>
					<outline text="&quot;dependencies&quot; : {">
						<outline text="&quot;opml&quot;: &quot;*&quot;,"/>
						<outline text="&quot;daveutils&quot;: &quot;*&quot;"/>
						<outline text="}"/>
						</outline>
					<outline text="}"/>
					</outline>
				</outline>
			<outline text="addcategorytoopml.js">
				<outline text="var myProductName = &quot;addcategorytoopml&quot;, myVersion = &quot;0.4.0&quot;;"/>
				<outline text="" created="Sat, 12 Aug 2023 22:37:22 GMT"/>
				<outline text="const fs = require (&quot;fs&quot;);"/>
				<outline text="const utils = require (&quot;daveutils&quot;);"/>
				<outline text="const opml = require (&quot;opml&quot;);"/>
				<outline text="" created="Mon, 14 Aug 2023 14:45:37 GMT"/>
				<outline text="const fsource = &quot;wpspecialprojects.opml&quot;;" created="Mon, 14 Aug 2023 14:52:19 GMT"/>
				<outline text="const theCategory = &quot;all,wp-projects&quot;;" created="Sat, 19 Aug 2023 15:42:45 GMT"/>
				<outline text="const fdest = &quot;/users/davewiner/dropbox/portableDave/publicFolder/a8c/subscriptionLists/wpspecialprojects.opml&quot;;" created="Sun, 20 Aug 2023 14:42:08 GMT"/>
				<outline text="" created="Sat, 19 Aug 2023 23:43:09 GMT"/>
				<outline text="const fsource = &quot;a8c-blogging-club.opml&quot;;" isComment="true" created="Mon, 14 Aug 2023 14:52:19 GMT"/>
				<outline text="const theCategory = &quot;all,a8c-blogs,bloggers&quot;;" isComment="true" created="Sat, 19 Aug 2023 15:42:45 GMT"/>
				<outline text="const fdest = &quot;/users/davewiner/dropbox/portableDave/publicFolder/a8c/subscriptionLists/a8c-blogging-club.opml&quot;;" isComment="true" created="Sun, 20 Aug 2023 14:42:08 GMT"/>
				<outline text="" created="Sun, 20 Aug 2023 14:55:29 GMT"/>
				<outline text="const theCategory = &quot;all,a8c-blogging-club&quot;;" isComment="true" created="Sat, 19 Aug 2023 15:42:45 GMT"/>
				<outline text="" created="Sat, 19 Aug 2023 15:42:12 GMT"/>
				<outline text="function notComment (item) { //8/21/22 by DW">
					<outline text="return (!utils.getBoolean (item.isComment));"/>
					<outline text="}"/>
					</outline>
				<outline text="" created="Sat, 19 Aug 2023 15:42:12 GMT"/>
				<outline text="fs.readFile (fsource, function (err, opmltext) {" created="Sat, 19 Aug 2023 15:36:14 GMT">
					<outline text="if (err) {" created="Sat, 19 Aug 2023 15:36:34 GMT">
						<outline text="console.log (err.message);" created="Sat, 19 Aug 2023 15:36:37 GMT"/>
						<outline text="}" created="Sat, 19 Aug 2023 15:36:42 GMT"/>
						</outline>
					<outline text="else {" created="Sat, 19 Aug 2023 15:36:42 GMT">
						<outline text="console.log (opmltext.toString ());" isComment="true" created="Sat, 19 Aug 2023 15:36:44 GMT"/>
						<outline text="opml.parse (opmltext, function (err, theOutline) {">
							<outline text="if (err) {">
								<outline text="console.log (err.message);" created="Sat, 19 Aug 2023 15:36:37 GMT"/>
								<outline text="}"/>
								</outline>
							<outline text="else {" created="Sat, 28 May 2022 19:02:01 GMT">
								<outline text="opml.visitAll (theOutline, function (node) {" created="Sat, 03 Jul 2021 19:31:57 GMT">
									<outline text="if (notComment (node)) {" created="Sat, 20 Aug 2022 14:11:54 GMT">
										<outline text="if (node.type == &quot;rss&quot;) {" created="Sun, 21 Aug 2022 18:00:29 GMT">
											<outline text="if (node.xmlUrl !== undefined) {" created="Sat, 20 Aug 2022 14:12:11 GMT">
												<outline text="node.category = theCategory;" created="Sat, 19 Aug 2023 15:41:11 GMT"/>
												<outline text="}" created="Sat, 20 Aug 2022 14:12:16 GMT"/>
												</outline>
											<outline text="}" created="Sun, 21 Aug 2022 18:00:33 GMT"/>
											</outline>
										<outline text="}" created="Sat, 20 Aug 2022 14:11:56 GMT"/>
										</outline>
									<outline text="return (true); //keep visiting" created="Sat, 03 Jul 2021 19:32:47 GMT"/>
									<outline text="});" created="Sat, 03 Jul 2021 19:32:16 GMT"/>
									</outline>
								<outline text="const opmltext = opml.stringify (theOutline);" created="Sat, 19 Aug 2023 23:44:57 GMT"/>
								<outline text="console.log (opmltext);" created="Sat, 19 Aug 2023 15:36:44 GMT"/>
								<outline text="fs.writeFile (&quot;updated-&quot; + fsource, opmltext, function (err) {" isComment="true" created="Sat, 19 Aug 2023 15:45:33 GMT">
									<outline text="if (err) {" created="Sat, 19 Aug 2023 15:46:57 GMT">
										<outline text="console.log (err.message);" created="Sat, 19 Aug 2023 15:47:00 GMT"/>
										<outline text="}" created="Sat, 19 Aug 2023 15:47:06 GMT"/>
										</outline>
									<outline text="});" created="Sat, 19 Aug 2023 15:47:07 GMT"/>
									</outline>
								<outline text="fs.writeFile (fdest, opmltext, function (err) {" created="Sat, 19 Aug 2023 15:45:33 GMT">
									<outline text="if (err) {" created="Sat, 19 Aug 2023 15:46:57 GMT">
										<outline text="console.log (err.message);" created="Sat, 19 Aug 2023 15:47:00 GMT"/>
										<outline text="}" created="Sat, 19 Aug 2023 15:47:06 GMT"/>
										</outline>
									<outline text="});" created="Sat, 19 Aug 2023 15:47:07 GMT"/>
									</outline>
								<outline text="}" created="Sat, 28 May 2022 19:02:03 GMT"/>
								</outline>
							<outline text="});"/>
							</outline>
						<outline text="}" created="Sat, 19 Aug 2023 15:36:50 GMT"/>
						</outline>
					<outline text="});" created="Sat, 19 Aug 2023 15:36:32 GMT"/>
					</outline>
				</outline>
			</outline>
		<outline text="build script" created="Sun, 20 Aug 2023 14:46:28 GMT">
			<outline text="nodeEditorSuite.utilities.buildAddCategoryToOpml ()" created="Fri, 21 Jul 2023 13:59:13 GMT"/>
			</outline>
		</body>
	</opml>
